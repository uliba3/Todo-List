(()=>{"use strict";class t{constructor(t,e){this.content=t,this.dueDate=e,this.completed=!1}toggleCompleted(){this.completed=!this.completed}editContent(t){this.content=t}editDueDate(t){this.dueDate=t}}const e={todos:[],addTodo(e,o){const d=new t(e,o);return this.todos.push(d),console.log(d),d},deleteTodo(t){t>=0&&t<this.todos.length&&this.todos.splice(t,1)},moveUpTodo(t){if(t>0&&t<this.todos.length){const e=this.todos[t];this.todos[t]=this.todos[t-1],this.todos[t-1]=e}},moveDownTodo(t){if(t>=0&&t<this.todos.length-1){const e=this.todos[t];this.todos[t]=this.todos[t+1],this.todos[t+1]=e}}},o=document.getElementById("todo-list");function d(){o.innerHTML="",e.todos.forEach(((t,n)=>{const s=document.createElement("div"),c=document.createElement("input"),l=document.createElement("div"),i=document.createElement("div"),a=document.createElement("button"),u=document.createElement("button"),h=document.createElement("button");if(c.type="checkbox",c.checked=t.completed,c.addEventListener("change",(()=>{t.toggleCompleted(),d()})),l.textContent=t.content,null===t.dueDate);else{const e=`${t.dueDate.getFullYear()}/${String(t.dueDate.getMonth()+1).padStart(2,"0")}/${String(t.dueDate.getDate()).padStart(2,"0")}`;i.textContent=e}a.textContent="Delete",u.textContent="↑",h.textContent="↓",a.addEventListener("click",(()=>{e.deleteTodo(n),console.log(n),d()})),u.addEventListener("click",(()=>{e.moveUpTodo(n),d()})),h.addEventListener("click",(()=>{e.moveDownTodo(n),d()})),s.appendChild(c),s.appendChild(i),s.appendChild(l),s.appendChild(a),s.appendChild(u),s.appendChild(h),o.appendChild(s)}))}document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("todo-form"),o=document.getElementById("todo-content"),n=document.getElementById("due-date");t.addEventListener("submit",(t=>{t.preventDefault();const s=o.value,c=n.value,l=c?new Date(c):null;e.addTodo(s,l),d(),o.value="",n.value=""})),e.addTodo("Complete project proposal",new Date("2023-08-15")),d()}))})();