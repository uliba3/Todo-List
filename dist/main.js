(()=>{"use strict";class e{constructor(e,t){this.content=e,this.dueDate=t,this.completed=!1}toggleCompleted(){this.completed=!this.completed}editContent(e){this.content=e}editDueDate(e){this.dueDate=e}}const t={todos:[],addTodo(t,o){const d=new e(t,o);return this.todos.push(d),console.log(d),d},deleteTodo(e){e>=0&&e<this.todos.length&&this.todos.splice(e,1)}},o=document.getElementById("todo-list");function d(){o.innerHTML="",t.todos.forEach(((e,n)=>{const l=document.createElement("div"),c=document.createElement("input"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("button");if(c.type="checkbox",c.checked=e.completed,c.addEventListener("change",(()=>{e.toggleCompleted(),d()})),a.textContent=e.content,null===e.dueDate);else{const t=`${e.dueDate.getFullYear()}/${String(e.dueDate.getMonth()+1).padStart(2,"0")}/${String(e.dueDate.getDate()).padStart(2,"0")}`;s.textContent=t}i.textContent="Delete",i.addEventListener("click",(()=>{t.deleteTodo(n),console.log(n),d()})),l.appendChild(c),l.appendChild(s),l.appendChild(a),l.appendChild(i),o.appendChild(l)}))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("todo-form"),o=document.getElementById("todo-content"),n=document.getElementById("due-date");e.addEventListener("submit",(e=>{e.preventDefault();const l=o.value,c=n.value,a=c?new Date(c):null;t.addTodo(l,a),d(),o.value="",n.value=""})),t.addTodo("Complete project proposal",new Date("2023-08-15")),d()}))})();